{% extends "base_logged_in.html" %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "dokument.templates.indexModel3D.Model.title" %}{% endblock %}

{% block content %}
  <div class="app-entity-knihovna_3d">
    {% include "toolbar_dokument.html" with is_3d=True index=True%}
    <div class="row app-entity-cards mb-3">
      <div class="col">
        <a href="{% url 'dokument:create-model-3D' %}" class="card app-card-entity app-card-zapsat-model">
          <div class="card-body card-body-background" id="app-card-zapsat-model-body">
            <img class="card-body-image" src="{% static 'logo-am-mark.png' %}" />
          </div>
          <div class="card-footer">
            {% trans "dokument.templates.indexModel3D.cardZapsat.label" %}
          </div>
      </a>
      </div>
      <div class="col">
        <a href="{% url 'dokument:list-model-3D' %}?sort=organizace__nazev_zkraceny&sort=autori&sort=ident_cely" class="card app-card-entity app-card-vybrat">
          <div class="card-body card-body-background">
            <img class="card-body-image" src="{% static 'logo-am-mark.png' %}" />
          </div>
          <div class="card-footer">
            {% trans "dokument.templates.indexModel3D.cardVybrat.label" %}
          </div>
        </a>
      </div>
      <div class="col">
        <a href="{% url 'dokument:list-model-3D' %}?historie_typ_zmeny=D01&historie_uzivatel={{ user.id }}&sort=stav&sort=ident_cely" class="card app-card-entity app-card-moje-modely">
          <div class="card-body card-body-background">
            <img class="card-body-image" src="{% static 'logo-am-mark.png' %}" />
          </div>
          <div class="card-footer">
            {% trans "dokument.templates.indexModel3D.cardMojeModely.label" %}
          </div>
        </a>
      </div>
      {% if user.can_see_ours_item %}
        <div class="col">
          <a href="{% url 'dokument:list-model-3D' %}?historie_typ_zmeny=D01&historie_uzivatel_organizace={{ user.organizace.id }}&sort=stav&sort=ident_cely" class="card app-card-entity app-card-nase-modely">
            <div class="card-body card-body-background">
              <img class="card-body-image" src="{% static 'logo-am-mark.png' %}" />
            </div>
            <div class="card-footer">
              {% trans "dokument.templates.indexModel3D.cardNaseModely.label" %}
            </div>
          </a>
        </div>
      {% endif %}
      </div>
  </div>

  <div class="app-card-desc-wrapper">
    <div class="app-collapse-zapsat-model app-card-collapse-text">
      <div class="p-3">
        <h4>{% trans "dokument.templates.indexModel3D.cardZapsat.text.title" %}</h4>
        <hr />
        {% trans "dokument.templates.indexModel3D.cardZapsat.text" %}
      </div>
    </div>
    <div class="app-collapse-moje-modely app-card-collapse-text">
      <div class="p-3">
        <h4>{% trans "dokument.templates.indexModel3D.cardMojeModely.text.title" %}</h4>
        <hr />
        {% trans "dokument.templates.indexModel3D.cardMojeModely.text" %}
      </div>
    </div>
    <div class="app-collapse-nase-modely app-card-collapse-text">
      <div class="p-3">
        <h4>{% trans "dokument.templates.indexModel3D.cardNaseModely.text.title" %}</h4>
        <hr />
        {% trans "dokument.templates.indexModel3D.cardNaseModely.text" %}
      </div>
    </div>
    {% if user.can_see_ours_item %}
      <div class="app-collapse-vybrat app-card-collapse-text">
        <div class="p-3">
          <h4>{% trans "dokument.templates.indexModel3D.cardVybrat.text.title" %}</h4>
          <hr />
          {% trans "dokument.templates.indexModel3D.cardVybrat.text" %}
        </div>
      </div>
    {% endif %}
  </div>

  <script>
    // show / hide card description
    $(".app-card-zapsat-model").mouseleave(function(){
      $(".app-collapse-zapsat-model").hide(100);
    });
    $(".app-card-zapsat-model").mouseover(function(){
      $(".app-collapse-zapsat-model").show(100);
    });
    $(".app-card-moje-modely").mouseleave(function(){
      $(".app-collapse-moje-modely").hide(100);
    });
    $(".app-card-moje-modely").mouseover(function(){
      $(".app-collapse-moje-modely").show(100);
    });
    {% if user.can_see_ours_item %}
      $(".app-card-nase-modely").mouseleave(function(){
        $(".app-collapse-nase-modely").hide(100);
      });
      $(".app-card-nase-modely").mouseover(function(){
        $(".app-collapse-nase-modely").show(100);
      });
    {% endif %}
    $(".app-card-vybrat").mouseleave(function(){
      $(".app-collapse-vybrat").hide(100);
    });
    $(".app-card-vybrat").mouseover(function(){
      $(".app-collapse-vybrat").show(100);
    });
</script>
{% endblock %}

{% block script %}
{% endblock %}
