{% extends "base.html" %}
{% load i18n %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}Oznámení o stavebním či jiném záměru{% endblock %}

{% block head %}
  <script>
      var global_csrftoken = '{{ csrf_token }}';
  </script>
  <!-- Map imports -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
          integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
          crossorigin="">
  </script>
  <!-- Date picker imports -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment-with-locales.min.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css"/>

  <!-- test -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bs-stepper/dist/css/bs-stepper.min.css"/>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bs-stepper/dist/js/bs-stepper.min.js"></script>
{% endblock %}

{% block content %}


<!-- test -->
<!-- <div id="stepper1" class="bs-stepper">
  <div class="bs-stepper-header">
    <div class="step" data-target="#test-l-1">
      <button type="button" class="btn step-trigger">
        <span class="bs-stepper-circle">1</span>
        <span class="bs-stepper-label">Vyplneni fomulare</span>
      </button>
    </div>
    <div class="line"></div>
    <div class="step" data-target="#test-l-2">
      <button type="button" class="btn step-trigger">
        <span class="bs-stepper-circle">2</span>
        <span class="bs-stepper-label">Neco</span>
      </button>
    </div>
    <div class="line"></div>
    <div class="step" data-target="#test-l-3">
      <button type="button" class="btn step-trigger">
        <span class="bs-stepper-circle">3</span>
        <span class="bs-stepper-label">Odeslani</span>
      </button>
    </div>
  </div>
  <div class="bs-stepper-content">
    <div id="test-l-1" class="content">
      <p class="text-center">Obsah kroku 1</p>
      <button class="btn btn-primary" onclick="stepper1.next()">Dalsi</button>
    </div>
    <div id="test-l-2" class="content">
      <p class="text-center">Obsah kroku 2</p>
      <button class="btn btn-primary" onclick="stepper1.next()">Dalsi</button>
    </div>
    <div id="test-l-3" class="content">
      <p class="text-center">Obsah kroku 3</p>
      <button class="btn btn-primary" onclick="stepper1.next()">Dalsi</button>
      <button class="btn btn-primary" onclick="stepper1.previous()">Predchozi</button>
    </div>
  </div>
</div> -->

<div id="stepper2" class="bs-stepper">
  <div class="bs-stepper-header">
    <div class="step" data-target="#test-nl-1">
      <button type="button" class="btn step-trigger">
        <span class="bs-stepper-circle">1</span>
        <span class="bs-stepper-label">Vyplneni fomulare</span>
      </button>
    </div>
    <div class="line"></div>
    <div class="step" data-target="#test-nl-2">
      <div class="btn step-trigger">
        <span class="bs-stepper-circle">2</span>
        <span class="bs-stepper-label">Neco</span>
      </div>
    </div>
    <div class="line"></div>
    <div class="step" data-target="#test-nl-3">
      <button type="button" class="btn step-trigger">
        <span class="bs-stepper-circle">3</span>
        <span class="bs-stepper-label">Odeslani</span>
      </button>
    </div>
  </div>
  <div class="bs-stepper-content">
    <div id="test-nl-1" class="content fade">
      <p class="text-center">Obsah kroku 1</p>
      <button class="btn btn-primary" onclick="stepper2.next()">Dalsi</button>
    </div>
    <div id="test-nl-2" class="content fade">
      <p class="text-center">Obsah kroku 2</p>
      <button class="btn btn-primary" onclick="stepper2.next()">Dalsi</button>
      <button class="btn btn-primary" onclick="stepper2.previous()">Predchozi</button>
    </div>
    <div id="test-nl-3" class="content fade">
      <p class="text-center">Obsah kroku 3</p>
      <!-- <button class="btn btn-primary" onclick="stepper2.next()">Dalsi</button> -->
      <button class="btn btn-primary" onclick="stepper2.previous()">Predchozi</button>
    </div>
  </div>
</div>
<!-- end test -->


  {% include "components/uvod.html" %}

  <h2>{% trans "Krok 1/2" %}</h2>

  <form method="post">
    {% crispy form_oznamovatel %}

    <small id="hint_id_map"
           class="form-text text-muted">{% trans "Kliknutím do mapy prosím lokalizujte záměr." %}</small>
    {% include "map.html" %}

    {% crispy form_projekt %}

    <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapsePodminky"
            aria-expanded="false" aria-controls="collapsePodminky">
      {% trans "Přečíst podmínky" %}
    </button>
    <div class="collapse" id="collapsePodminky">
      <div class="card card-body">
        {% include "oznameni/podminky.html" %}
      </div>
    </div>

    <div class="form-group">
      <div id="div_id_souhlas" class="custom-control custom-checkbox">
        <input type="checkbox" name="souhlas" class="checkboxinput custom-control-input" required=""
               id="id_souhlas">
        <label for="id_souhlas" class="custom-control-label requiredField">
          {% translate "Souhlasím s podmínkami o zpracování osobních údajů" %}
          <span class="asteriskField">*</span>
        </label>
      </div>
    </div>

    {{ form_captcha }}
    <input type="submit" name="save" value="{% translate 'Krok 2' %}" class="btn btn-primary" id="submit-id-save">
  </form>
{% endblock %}

{% block script %}
  <script src="{% static 'map.js' %}"></script>
  <script src="{% static 'daterangepicker.js' %}"></script>
  <script>
    /* var stepper1Node = document.querySelector('#stepper1')
    var stepper1 = new Stepper(document.querySelector('#stepper1'))

    stepper1Node.addEventListener('show.bs-stepper', function (event) {
      console.warn('show.bs-stepper', event)
    })
    stepper1Node.addEventListener('shown.bs-stepper', function (event) {
      console.warn('shown.bs-stepper', event)
    }) */

    var stepper2 = new Stepper(document.querySelector('#stepper2'), {
      linear: false,
      animation: true
    })
    var stepper3 = new Stepper(document.querySelector('#stepper3'), {
      animation: true
    })
    var stepper4 = new Stepper(document.querySelector('#stepper4'))
  </script>
{% endblock %}
