{% extends "base.html" %}
{% load i18n %}
{% load static %}

{% block title %}Oznámení o stavebním či jiném záměru - Krok 2{% endblock %}

{% block head %}
  <link rel="stylesheet" type="text/css" href="{% static 'dropzone.min.css' %}"/>
  <link rel="stylesheet" type="text/css" href="{% static 'bs-stepper.min.css' %}" />
{% endblock %}

{% block content %}

  {% include "oznameni/header.html" %}
  {% include "components/uvod.html" %}

  <div class="bs-stepper">
    <div class="bs-stepper-header">
      <div class="step">
        <button type="button" class="btn step-trigger" disabled="disabled">
          <span class="bs-stepper-circle">1</span>
          <span class="bs-stepper-label">{% trans "Vytvoření oznámení" %}</span>
        </button>
      </div>
      <div class="line"></div>
      <div class="step active">
        <button type="button" class="btn step-trigger">
          <span class="bs-stepper-circle">2</span>
          <span class="bs-stepper-label">{% trans "Upload projektové dokumentace" %}</span>
        </button>
      </div>
      <div class="line"></div>
      <div class="step">
        <button type="button" class="btn step-trigger" disabled="disabled">
          <span class="bs-stepper-circle">3</span>
          <span class="bs-stepper-label">{% trans "Oznámeno" %}</span>
        </button>
      </div>
    </div>
  </div>

  <table class="table table-sm table-striped table-hover mb-4">
    <tbody>
      <tr>
        <th scope="row">{% trans "Projekt" %}:</th>
        <td>{{ confirm.ident_cely }}</td>
      </tr>
      <tr>
        <th scope="row">{% trans "Ozanamovatel" %}:</th>
        <td>{{ confirm.oznamovatel }}</td>
      </tr>
      <tr>
        <th scope="row">{% trans "Zástupce oznamovatele" %}:</th>
        <td>{{ confirm.zastupce }}</td>
      </tr>
      <tr>
        <th scope="row">{% trans "Adresa" %}:</th>
        <td>{{ confirm.adresa }}</td>
      </tr>
      <tr>
        <th scope="row">{% trans "Telefon" %}:</th>
        <td>{{ confirm.telefon }}</td>
      </tr>
      <tr>
        <th scope="row">{% trans "Email" %}:</th>
        <td>{{ confirm.email }}</td>
      </tr>
      <tr>
        <th scope="row">{% trans "Katastrální území" %}:</th>
        <td>{{ confirm.katastr }}</td>
      </tr>
      <tr>
        <th scope="row">{% trans "Další katastry" %}:</th>
        <td>{{ confirm.dalsi_katastry }}</td>
      </tr>
      <tr>
        <th scope="row">{% trans "Plánované zahájení" %}:</th>
        <td>{{ confirm.planovane_zahajeni }}</td>
      </tr>
      <tr>
        <th scope="row">{% trans "Podnět" %}:</th>
        <td>{{ confirm.podnet }}</td>
      </tr>
      <tr>
        <th scope="row">{% trans "Lokalizace" %}:</th>
        <td>{{ confirm.lokalizace }}</td>
      </tr>
      <tr>
        <th scope="row">{% trans "Parcelní číslo" %}:</th>
        <td>{{ confirm.parcelni_cislo }}</td>
      </tr>
      <tr>
        <th scope="row">{% trans "Označení stavby" %}:</th>
        <td>{{ confirm.oznaceni_stavby }}</td>
      </tr>
    </tbody>
  </table>

  <form action="{% url 'core:post_upload' %}" class="dropzone mb-4" id="my-awesome-dropzone" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="fallback">
      <input name="file" type="file" multiple/>
    </div>
  </form>

  <form method="post">
    {% csrf_token %}
    <input name="ident_cely" type="hidden" value="{{ confirm.ident_cely }}">
    <button type="submit" class="btn btn-success ">{% trans "Dokončit oznámení" %}</button>
  </form>

{% endblock %}

{% block script %}
  <script src="{% static 'dropzone.min.js' %}"></script>
  <script>var project_id = "{{ ident_cely }}";</script>
  <script src="{% static 'dz.js' %}"></script>
{% endblock %}
